![](https://i.imgur.com/1SikjgK.png)

본 게시글은 "Recoil 공식 문서"를 학습하며, 내용 요약 또는 몰랐던 부분을 정리하는 글 입니다.

---

호환성 및 단순함을 이유로 외부의 글로벌 상태관리 라이브러리보다는 React 자체에 내장된 상태 관리 기능을 사용하는 것이 가장 좋다. 그러나 React는 다음과 같은 한계가 있다.

- 리액트는 단방향 바인딩으로, 상태를 공유하기 위해선 공통된 상위요소까지 끌어올려야만 한다. 이 과정에서 거대한 트리(필요하지 않은 컴포넌트를 포함한)가 다시 렌더링되는 문제가 생길 수 있다.
- 컨텍스트는 단일 값만 저장할 수 있다.

위의 두 가지 특성이 트리의 최상단(state가 존재하는 곳)부터 트리의 말단(state가 사용되는 곳)까지의 **코드 분할을 어렵게 한다.**

**Recoil은 API의 동작과 의미를 가능한 리액트답게 유지/개선한다.**
**Recoil은 본질적인 방향 그래프를 정의하고 React 트리에 붙힌다. 상태 변화는 그래프의 최상단부터 selector라고 부르는 순수함수를 통해 컴포넌트로 흐른다.**

Recoil은 다음과 같은 접근방식을 가진다.
상태

1. Recoil은 boilerplate-free API를 제공하여 get/set 인터페이스를 통해 공유 상태가 local처럼 사용할 수 있도록 한다.
2. 동시성 모드를 비롯한 새로운 리액트의 기능과 호환이 가능하다.
3. 상태 정의가 점진적이고 분산되어, 코드 분할이 가능하다.
4. 상태를 사용하는 컴포넌트를 수정하지 않고도 상태를 파생된 데이터로 대체할 수 있다.
5. 상태를 사용하는 컴포넌트를 수정하지 않고도 파생된 데이터는 동기식/비동기식 간에 이동할 수 있다.
6. Recoil은 탐색을 일급 개념으로 취급할 수 있고 심지어 링크에서 상태 전환을 인코딩할 수도 있다.
7. 전체 애플리케이션 상태를 하위 호환되는 방식으로 유지하기가 쉬우므로, 유지된 상태는 애플리케이션 변경에도 살아남을 수 있다.
