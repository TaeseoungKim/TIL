![](https://i.imgur.com/ka8XN2Z.png)

# Redux(ë¦¬ë•ìŠ¤)ë€?

Redux(ë¦¬ë•ìŠ¤)ë€ JavaScript(ìë°”ìŠ¤íŠ¸ë¦½íŠ¸) ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.
Redux(ë¦¬ë•ìŠ¤)ì˜ ë³¸ì§ˆì€ Node.js ëª¨ë“ˆì´ë‹¤.

## â—ï¸Reduxì˜ ê¸°ë³¸ ê°œë… : ì„¸ ê°€ì§€ ì›ì¹™

1. Single source of truth
   ë™ì¼í•œ ë°ì´í„°ëŠ” í•­ìƒ ê°™ì€ ê³³ì—ì„œ ê°€ì§€ê³  ì˜¨ë‹¤.
   ì¦‰, ìŠ¤í† ì–´ë¼ëŠ” í•˜ë‚˜ë¿ì¸ ë°ì´í„° ê³µê°„ì´ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.
2. State is read-only
   ë¦¬ì•¡íŠ¸ì—ì„œëŠ” setState ë©”ì†Œë“œë¥¼ í™œìš©í•´ì•¼ë§Œ ìƒíƒœ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤.
   ë¦¬ë•ìŠ¤ì—ì„œë„ ì•¡ì…˜ì´ë¼ëŠ” ê°ì²´ë¥¼ í†µí•´ì„œë§Œ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
3. Changes are made with pure functions
   ë³€ê²½ì€ ìˆœìˆ˜í•¨ìˆ˜ë¡œë§Œ ê°€ëŠ¥í•˜ë‹¤.
   ë¦¬ë“€ì„œì™€ ì—°ê´€ë˜ëŠ” ê°œë…ì´ë‹¤.
   Store(ìŠ¤í† ì–´) â€“ Action(ì•¡ì…˜) â€“ Reducer(ë¦¬ë“€ì„œ)

## â—ï¸Store, Action, Reducerì˜ ì˜ë¯¸ì™€ íŠ¹ì§•

![](https://i.imgur.com/8rmke62.png)

ğŸ§º Store (ìŠ¤í† ì–´)

- Store(ìŠ¤í† ì–´)ëŠ” ìƒíƒœê°€ ê´€ë¦¬ë˜ëŠ” ì˜¤ì§ í•˜ë‚˜ì˜ ê³µê°„ì´ë‹¤.
- ì»´í¬ë„ŒíŠ¸ì™€ëŠ” ë³„ê°œë¡œ ìŠ¤í† ì–´ë¼ëŠ” ê³µê°„ì´ ìˆì–´ì„œ ê·¸ ìŠ¤í† ì–´ ì•ˆì— ì•±ì—ì„œ í•„ìš”í•œ ìƒíƒœë¥¼ ë‹´ëŠ”ë‹¤.
- ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœ ì •ë³´ê°€ í•„ìš”í•  ë•Œ ìŠ¤í† ì–´ì— ì ‘ê·¼í•œë‹¤.

ğŸ“ƒ Action (ì•¡ì…˜)

- Action(ì•¡ì…˜)ì€ ì•±ì—ì„œ ìŠ¤í† ì–´ì— ìš´ë°˜í•  ë°ì´í„°ë¥¼ ë§í•œë‹¤. (ì£¼ë¬¸ì„œ)
- Action(ì•¡ì…˜)ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ í˜•ì‹ìœ¼ë¡œ ë˜ì–´ìˆë‹¤.

```javascript
{
  type: 'ACTION_CHANGE_USER', // í•„ìˆ˜
  payload: { // ì˜µì…˜
    name: 'í•˜ë‚˜ëª¬',
    age: 100
  }
}
```

ğŸ‰ Reducer (ë¦¬ë“€ì„œ)

- Action(ì•¡ì…˜)ì„ Store(ìŠ¤í† ì–´)ì— ë°”ë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤.
- Action(ì•¡ì…˜)ì„ Reducer(ë¦¬ë“€ì„œ)ì— ì „ë‹¬í•´ì•¼í•œë‹¤.
  Reducer(ë¦¬ë“€ì„œ)ê°€ ì£¼ë¬¸ì„ ë³´ê³  Store(ìŠ¤í† ì–´)ì˜ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì´ë‹¤.
- Action(ì•¡ì…˜)ì„ Reducer(ë¦¬ë“€ì„œ)ì— ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œëŠ” dispatch() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.

Action(ì•¡ì…˜) ê°ì²´ê°€ dispatch() ë©”ì†Œë“œì— ì „ë‹¬ëœë‹¤.
dispatch(ì•¡ì…˜)ë¥¼ í†µí•´ Reducerë¥¼ í˜¸ì¶œí•œë‹¤.
ReducerëŠ” ìƒˆë¡œìš´ Store ë¥¼ ìƒì„±í•œë‹¤.

## Reduxì˜ ìƒíƒœ ê´€ë¦¬ ë„ì‹í™”

ğŸ‘‰ ì™œ ì´ëŸ° ê³µì‹ì„ ë”°ë¥¼ê¹Œ?
ì´ìœ ëŠ” ë°ì´í„°ê°€ í•œ ë°©í–¥ìœ¼ë¡œë§Œ í˜ëŸ¬ì•¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
![](https://i.imgur.com/n9dJOMj.png)

## Reduxì—ì„œ ìœ„ ê°œë…ì„ êµ¬í˜„í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²•

ğŸ‘‰ mapStateToProps()
ğŸ‘‰ Redux hooks (ë¹„êµì  ìµœê·¼ì— ë‚˜ì˜¨ ê¸°ìˆ )
useSelector
useDispatch

## Reduxì˜ ì¥ì 

ìƒíƒœë¥¼ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê²Œ ë§Œë“ ë‹¤. (ìˆœìˆ˜í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸)
ìœ ì§€ë³´ìˆ˜ (ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ì™€ ë¹„êµ)
ë””ë²„ê¹…ì— ìœ ë¦¬ (actionê³¼ state log ê¸°ë¡ ì‹œ) â†’ redux dev tool (í¬ë¡¬ í™•ì¥)
í…ŒìŠ¤íŠ¸ë¥¼ ë¶™ì´ê¸° ìš©ì˜ (ìˆœìˆ˜í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸)

## Basic Redux usage (ë¦¬ì•¡íŠ¸ ì—†ì´ ê·¸ëƒ¥ ë¦¬ë•ìŠ¤ë§Œ ì´ìš©í•´ë³´ê¸°)

1. ë¦¬ë•ìŠ¤ë¡œ ìƒíƒœ ê´€ë¦¬í•˜ê¸°
   npm init í›„ npm install redux í•œ ìƒíƒœì—ì„œ ì—°ìŠµí•œë‹¤.
   ë¦¬ë•ìŠ¤ëŠ” ë¦¬ì•¡íŠ¸ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ” ìƒíƒœê´€ë¦¬ ëª¨ë“ˆì´ ì•„ë‹ˆë‹¤.
   package.jsonì„ ë³´ë©´ ì˜ì¡´ ëª¨ë“ˆì´ redux ë§Œ ìˆëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
   ë¦¬ì•¡íŠ¸ì—ì„œ ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì—¬ê¸°ì— npm install react-reduxë„ í•¨ê»˜ í•´ì¤€ë‹¤.

```javascript
// redux ë§Œ ì„¤ì¹˜ëœ í”„ë¡œì íŠ¸ì˜ index.js íŒŒì¼
// ë¦¬ë•ìŠ¤ ëª¨ë“ˆ ê°€ì ¸ì˜¤ê¸°
const { createStore } = require("redux");
// data ê¸°ë³¸
const nameData = { name: "Hanamon" };
// action ê°ì²´
const actionChangeName = (newname) => {
  return {
    type: "ACTION_CHANGE_NAME",
    payload: newname,
  };
};
// reducer í•¨ìˆ˜
const postReducer = (state = nameData, action) => {
  switch (action.type) {
    case "ACTION_CHANGE_NAME":
      return Object.assign({}, state, { ...state, name: action.payload });
      break;
    default:
      return state;
  }
};
// store ìƒì„± ë° ë¦¬ë“€ì„œ ë“±ë¡
const store = createStore(postReducer);
// ìˆ˜ì • ì „ í™•ì¸
console.log(store.getState());
// ìˆ˜ì • ì‹¤í–‰ (ì´ ë¶€ë¶„ì—ì„œ ì˜ˆë¥¼ë“¤ì–´ í´ë¦­ ì‹œ ì‹¤í–‰ë˜ê²Œ ë” ë§Œë“¤ë©´ ëœë‹¤.)
store.dispatch(actionChangeName("í•˜ë‚˜ëª¬"));
// ìˆ˜ì • í›„ í™•ì¸
console.log(store.getState());
```

**store.getState()**: í˜„ì¬ storeì— ìˆëŠ” ìƒíƒœë¥¼ ì¶œë ¥í•œë‹¤.
**store.dispatch(ì•¡ì…˜)**: storeì— ë“±ë¡í•œ reducerì— ì•¡ì…˜ ê°ì²´ë¥¼ ì „ë‹¬í•œë‹¤.
**store.subscribe(ì´ë²¤íŠ¸)**: ì‘ì—…ì´ storeì— ì „ë‹¬ë  ë•Œë§ˆë‹¤ í˜¸ì¶œëœë‹¤.
**replaceReducer(ë‹¤ìŒ ë¦¬ë“€ì„œ)**: storeì—ì„œ ì‚¬ìš©í•˜ëŠ” reducerë¥¼ ë°”ê¾¼ë‹¤. (ê³ ê¸‰ API ì´ë‹¤.)

---

## React Redux usage (ë¦¬ì•¡íŠ¸ì—ì„œ ë¦¬ë•ìŠ¤ë¥¼ ì´ìš©í•œ ìƒíƒœ ê´€ë¦¬í•˜ê¸°)

### ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì— ëª¨ë“ˆì„ ë‹¤ìš´ ë°›ëŠ”ë‹¤.

- create-react-app ìœ¼ë¡œ ë§Œë“  ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ì—ì„œ ë¦¬ë•ìŠ¤ë¥¼ ì‚¬ìš©í•  ê²½ìš°ì—ëŠ” npm install redux react-redux ë‘ ëª¨ë“ˆì„ ë‹¤ìš´ ë°›ëŠ”ë‹¤.
- package.jsonì„ ë³´ë©´ í”„ë¡œì íŠ¸ê°€ ë‘ ëª¨ë“ˆì— ì˜ì¡´í•˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

### Code Splitting(ì½”ë“œ ë¶„í• ) í•œë‹¤.

**ğŸ‘‰ What is Code Splitting?**

- ì½”ë“œ ë¶„í• ì€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í•˜ë‚˜ì˜ í° íŒŒì¼ë¡œ ë¡œë“œí•˜ëŠ” ëŒ€ì‹  ë” ì‘ì€ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ„ê³  í•´ë‹¹ í˜ì´ì§€ì— í•„ìš”í•œ ê²ƒë§Œ ë¡œë“œí•˜ëŠ” ê¸°ìˆ ì´ë‹¤.
- ë§ì€ ì–‘ì˜ JavaScriptê°€ ìˆëŠ” í”„ë¡œì íŠ¸ì˜ ê²½ìš° ì„±ëŠ¥ì´ í¬ê²Œ í–¥ìƒë  ìˆ˜ ìˆë‹¤.

**ğŸ‘‰ how to code splitting**

- src í´ë” ì•ˆì— actions, reducers, store, components, pages í´ë”ë¡œ ë¶„í• í•œë‹¤.
- ì´ë•Œ, component í´ë”ëŠ” í”„ë¦¬ì  í…Œì´ì…˜ ì»´í¬ë„ŒíŠ¸ë¡œ, page í´ë”ëŠ” ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ë¡œ ë‚˜ëˆˆë‹¤.
- ì´ë•Œ, StoreëŠ” í•˜ë‚˜ì˜ ë¦¬ë“€ì„œë§Œ ê´€ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ ë¦¬ë“€ì„œë¥¼ ì—¬ëŸ¬ê°œ ë‚˜ëˆ ì„œ í•˜ë‚˜ë¡œ í•©ì¹  ìˆ˜ëŠ” ìˆë‹¤.

```javascript
// reducers í´ë” ì•ˆì— reducers.js => ëª¨ë“  ë¦¬ë“€ì„œë¥¼ í•©ì³ì¤€ë‹¤.
import { combineReducers } from "redux";
import itemReducer from "./itemReducer";
import notificationReducer from "./notificationReducer";
const rootReducer = combineReducers({
  itemReducer,
  notificationReducer,
});
export default rootReducer;
```

```javascript
// store í´ë” ì•ˆì— store.js => ìŠ¤í† ì–´ë¥¼ ìƒì„±í•œ í›„ ë¦¬ë“€ì„œë¥¼ ë“±ë¡í•œë‹¤.
import { createStore } from "redux";
import rootReducer from "../reducers/index";
const store = createStore(rootReducer);
export default store;
```

Reducerì—ì„œ ìˆœìˆ˜í•¨ìˆ˜ë¡œ ìƒíƒœ ì—…ë°ì´íŠ¸ í•˜ëŠ” ì—¬ëŸ¬ê°€ì§€ ë°©ë²•
ğŸ‘‰ Object.assign()ì„ ì´ìš©í•œë‹¤. (depth 1 ê¹Œì§€ë§Œ ê¹Šì€ ë³µì‚¬)

```javascript
// state ìƒíƒœê°€ ê°ì²´ í˜•íƒœë¼ë©´ ë¦¬ë“€ì„œì—ì„œ íŠ¹ì • ì•¡ì…˜ì—ì„œ ë¦¬í„´í•  ë•Œ
return Object.assign( {}, state, {ìƒˆë¡œ ì—…ë°ì´íŠ¸ í•  ê²ƒ} );
```

ğŸ‘‰ Spread í¼ì³ ë¬¸ë²•ì„ ì´ìš©í•œë‹¤. [ ...state, {} ]

```javascript
// state ìƒíƒœê°€ ê°ì²´ í˜•íƒœë¼ë©´ ë¦¬ë“€ì„œì—ì„œ íŠ¹ì • ì•¡ì…˜ì—ì„œ ë¦¬í„´í•  ë•Œ
return { ...state, {ìƒˆë¡œ ì—…ë°ì´íŠ¸ í•  ê²ƒ} };
```

â—ï¸ìµœìƒìœ„ index.js ì— ìŠ¤í† ì–´ë¥¼ ì—°ê²°í•œë‹¤.

```javascript
import React from "react";
import ReactDOM from "react-dom";
import App from "./App";
import store from "./store/store";
import { Provider } from "react-redux";
ReactDOM.render(
  <Provider store={store}>
    <App />
  </Provider>,
  document.getElementById("root")
);
```

â—ï¸í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìŠ¤í† ì–´ì— ì ‘ê·¼í•˜ëŠ” ë²•

```javascript
import React from 'react';
import { addToCart } from '../actions/index'; // ì•¡ì…˜ ê°€ì ¸ì˜¤ê¸°
import { useSelector, useDispatch } from 'react-redux'; // ë¦¬ë•ìŠ¤ í›„í¬ ê°€ì ¸ì˜¤ê¸°
function ItemListContainer() {
  const state = useSelector(state => state.itemReducer); // ìŠ¤í† ì–´ì—ì„œ itemReducerë¡œ ë“±ë¡ëœ ìƒíƒœ ê°€ì ¸ì˜¤ê¸°
  const { items, cartItems } = state; // ìƒíƒœê°€ ê°ì²´ì´ê³  êµ¬ì¡°ë¶„í•´ í•œë‹¤.
  const dispatch = useDispatch(); // ìƒíƒœ ì—…ë°ì´íŠ¸ í•  dispatch() ë©”ì†Œë“œ ê°€ì ¸ì˜¤ê¸°
  // í´ë¦­ ì´ë²¤íŠ¸
  const handleClick = (item) => {
     dispatch(addToCart(item.id)); // dispatch()ë¥¼ ì´ìš©í•´ì„œ actionì„ ë¦¬ë“€ì„œì— ì „ë‹¬
  }
  ... ìƒëµ
}
```
