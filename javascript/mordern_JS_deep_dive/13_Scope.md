본 게시글은 "모던 자바스크립트 Deep Dive"를 학습하며, 내용 요약 또는 몰랐던 부분을 정리하는 글 입니다.

# 스코프(유효범위)

## 스코프란?

스코프는 식별자가 유효한 범위를 말한다.
자바스크립트의 스코프는 다른 언어의 스코프와 구별되는 특징이 있으므로 주의가 필요하다.
**var, let, const로 선언한 변수의 스코프는 각 다르게 동작한다.**

변수는 자신이 선언된 위치에 의해 자신이 유효한 범위(다른 코드가 변수 자신을 참조할 수 있는 범위)가 결정된다.
**모든 식별자는 자신이 선언된 위치에 의해 다른 코드가 식별자 자신을 참조할 수 있는 유효 범위가 결정된다.**

```javascript
var var1 = 1; // 코드의 가장 바깥 영역에서 선언한 변수

if (true) {
  var var2 = 2; // 코드 블록 내에서 선언한 변수
  if (true) {
    var var3 = 3; // 중첩된 코드 블록 내에서 선언한 변수
  }
}
console.log(var1); // 1
console.log(var2); // 2
console.log(var3); // 3
```

자바스크립트는 if문의 코드 블럭 안에서 변수를 선언하더라도 외부 코드 블록의 유효범위를 가진다.

```javascript
var x = "global";

function foo() {
  var x = "local";
  console.log(x); // ①
}

foo();

console.log(x); // ②
```

위 코드에서, 자바스크립트 엔진은 이름이 같은 두 개의 변수 중에서 어떤 변수를 참조해야 할 것인지를 결정해야한다.
이를 **식별자 결정(identifier resolution)**이라 한다.
따라서 스코프란 자바스크립트 엔진이 식별자를 검색할 때 사용하는 규칙이라고 할 수 있다.

파일 이름은 하나의 파일을 구별하여 식별할 수 있는 식별자다.
우리는 컴퓨터를 사용할 때 하나의 파일 이름만 사용하지 않는다.
식별자인 파일 이름을 중복해서 사용할 수 있는 이유는 폴더(디렉터리)라는 개념이 있기 때문이다.

이와 마찬가지로 프로그래밍 언어는 스코프를 통해 식별자인 변수 이름의 충돌을 방지하여 같은 이름의 변수를 사용할 수 있게 한다.
즉, 스코프는 **네임스페이스**다.

tip1) 코드의 문맥과 환경
**렉시컬 환경(lexical environment)**은 **코드가 어디서 실행되며 주변에 어떤 코드가 있는지**를 뜻한다.
즉, 코드의 문맥은 렉시컬 환경으로 이뤄진다. 이를 구현한 것이 **실핼 컨텍스트**이며, 모든 코드는 실행 컨텍스트에서 평가되고 실행된다.
스코프는 실행 컨텍스트와 깊은 관련이 있다.

tip2) var와 let, const
var 키워드로 선언된 변수는 같은 스코프 내에서 중복 선언이 허용된다.(의도치 않게 변수값이 재할당되어 변경되는 부작용 발생)
let, const 키워드로 선언된 변수는 같은 스코프 내에서 중복 선언을 허용하지 않는다.

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```

```javascript

```
